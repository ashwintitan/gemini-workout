{"ast":null,"code":"import React,{useRef,useEffect,useCallback,useState}from'react';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HorizontalScrollInput=/*#__PURE__*/React.memo(_ref=>{let{label,value,min,max,increment,onChange}=_ref;const wheelRef=useRef(null);const[itemWidth,setItemWidth]=useState(80);const visibleItems=5;const maxIndex=Math.floor((max-min)/increment);const items=Array.from({length:maxIndex+1},(_,i)=>min+i*increment);// Dynamic item width\nuseEffect(()=>{const calculateWidth=()=>{if(wheelRef.current){const containerWidth=wheelRef.current.offsetWidth;setItemWidth(containerWidth/visibleItems);}};calculateWidth();window.addEventListener('resize',calculateWidth);return()=>window.removeEventListener('resize',calculateWidth);},[visibleItems]);// Scroll to center an index\nconst scrollToIndex=useCallback(function(index){let smooth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;const element=wheelRef.current;if(!element)return;const leftPadding=element.offsetWidth/2-itemWidth/2;element.scrollTo({left:index*itemWidth-leftPadding,behavior:smooth?'smooth':'auto'});},[itemWidth]);// Center current value on mount / value change\nuseEffect(()=>{const currentIndex=Math.round((value-min)/increment);scrollToIndex(currentIndex,false);},[value,min,increment,scrollToIndex]);// Snap to nearest value on scroll\nconst handleScroll=useCallback(()=>{const element=wheelRef.current;if(!element)return;const leftPadding=element.offsetWidth/2-itemWidth/2;const scrollLeft=element.scrollLeft;const centeredIndex=Math.round((scrollLeft+leftPadding)/itemWidth);const newIndex=Math.max(0,Math.min(maxIndex,centeredIndex));const newValue=min+newIndex*increment;if(newValue!==value){onChange(newValue);scrollToIndex(newIndex,true);}},[value,min,increment,maxIndex,onChange,itemWidth,scrollToIndex]);// Handle tap/click on an item\nconst handleItemClick=index=>{const newValue=min+index*increment;if(newValue!==value){onChange(newValue);scrollToIndex(index,true);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",children:label}),/*#__PURE__*/_jsx(\"div\",{className:\"scroll-container\",children:/*#__PURE__*/_jsxs(\"div\",{ref:wheelRef,className:\"scroll-wheel-horizontal\",onScroll:handleScroll,children:[/*#__PURE__*/_jsx(\"div\",{className:\"scroll-padding-start\",style:{width:\"\".concat(itemWidth*visibleItems/2,\"px\")}}),items.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"scroll-item-h \".concat(item===value?'active':''),style:{width:itemWidth},onClick:()=>handleItemClick(index),children:item},index)),/*#__PURE__*/_jsx(\"div\",{className:\"scroll-padding-end\",style:{width:\"\".concat(itemWidth*visibleItems/2,\"px\")}})]})})]});});export default HorizontalScrollInput;","map":{"version":3,"names":["React","useRef","useEffect","useCallback","useState","jsx","_jsx","jsxs","_jsxs","HorizontalScrollInput","memo","_ref","label","value","min","max","increment","onChange","wheelRef","itemWidth","setItemWidth","visibleItems","maxIndex","Math","floor","items","Array","from","length","_","i","calculateWidth","current","containerWidth","offsetWidth","window","addEventListener","removeEventListener","scrollToIndex","index","smooth","arguments","undefined","element","leftPadding","scrollTo","left","behavior","currentIndex","round","handleScroll","scrollLeft","centeredIndex","newIndex","newValue","handleItemClick","className","children","ref","onScroll","style","width","concat","map","item","onClick"],"sources":["C:/Ashwin/Apps/gemini-workout/src/HorizontalScrollInput.js"],"sourcesContent":["import React, { useRef, useEffect, useCallback, useState } from 'react';\r\nimport './index.css';\r\n\r\nconst HorizontalScrollInput = React.memo(({ label, value, min, max, increment, onChange }) => {\r\n    const wheelRef = useRef(null);\r\n    const [itemWidth, setItemWidth] = useState(80);\r\n    const visibleItems = 5;\r\n    const maxIndex = Math.floor((max - min) / increment);\r\n    const items = Array.from({ length: maxIndex + 1 }, (_, i) => min + i * increment);\r\n\r\n    // Dynamic item width\r\n    useEffect(() => {\r\n        const calculateWidth = () => {\r\n            if (wheelRef.current) {\r\n                const containerWidth = wheelRef.current.offsetWidth;\r\n                setItemWidth(containerWidth / visibleItems);\r\n            }\r\n        };\r\n        calculateWidth();\r\n        window.addEventListener('resize', calculateWidth);\r\n        return () => window.removeEventListener('resize', calculateWidth);\r\n    }, [visibleItems]);\r\n\r\n    // Scroll to center an index\r\n    const scrollToIndex = useCallback((index, smooth = true) => {\r\n        const element = wheelRef.current;\r\n        if (!element) return;\r\n        const leftPadding = (element.offsetWidth / 2) - (itemWidth / 2);\r\n        element.scrollTo({ left: index * itemWidth - leftPadding, behavior: smooth ? 'smooth' : 'auto' });\r\n    }, [itemWidth]);\r\n\r\n    // Center current value on mount / value change\r\n    useEffect(() => {\r\n        const currentIndex = Math.round((value - min) / increment);\r\n        scrollToIndex(currentIndex, false);\r\n    }, [value, min, increment, scrollToIndex]);\r\n\r\n    // Snap to nearest value on scroll\r\n    const handleScroll = useCallback(() => {\r\n        const element = wheelRef.current;\r\n        if (!element) return;\r\n\r\n        const leftPadding = (element.offsetWidth / 2) - (itemWidth / 2);\r\n        const scrollLeft = element.scrollLeft;\r\n        const centeredIndex = Math.round((scrollLeft + leftPadding) / itemWidth);\r\n        const newIndex = Math.max(0, Math.min(maxIndex, centeredIndex));\r\n        const newValue = min + newIndex * increment;\r\n\r\n        if (newValue !== value) {\r\n            onChange(newValue);\r\n            scrollToIndex(newIndex, true);\r\n        }\r\n    }, [value, min, increment, maxIndex, onChange, itemWidth, scrollToIndex]);\r\n\r\n    // Handle tap/click on an item\r\n    const handleItemClick = (index) => {\r\n        const newValue = min + index * increment;\r\n        if (newValue !== value) {\r\n            onChange(newValue);\r\n            scrollToIndex(index, true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"input-group\">\r\n            <label className=\"input-label\">{label}</label>\r\n            <div className=\"scroll-container\">\r\n                <div\r\n                    ref={wheelRef}\r\n                    className=\"scroll-wheel-horizontal\"\r\n                    onScroll={handleScroll}\r\n                >\r\n                    <div className=\"scroll-padding-start\" style={{ width: `${(itemWidth * visibleItems)/2}px` }} />\r\n                    {items.map((item, index) => (\r\n                        <div\r\n                            key={index}\r\n                            className={`scroll-item-h ${item === value ? 'active' : ''}`}\r\n                            style={{ width: itemWidth }}\r\n                            onClick={() => handleItemClick(index)}\r\n                        >\r\n                            {item}\r\n                        </div>\r\n                    ))}\r\n                    <div className=\"scroll-padding-end\" style={{ width: `${(itemWidth * visibleItems)/2}px` }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default HorizontalScrollInput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}